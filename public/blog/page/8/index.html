
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>TimBroder.com</title>
  <meta name="author" content="Tim Broder">

  
  <meta name="description" content="Magento ships with widget functionality that lets you build out data models and then reuse them on product and CMS pages. If you want to use these ...">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://www.timbroder.com/blog/page/8/index.html">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="http://feeds.feedburner.com/timbroder" rel="alternate" title="TimBroder.com" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">TimBroder.com</a></h1>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="http://feeds.feedburner.com/timbroder" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:www.timbroder.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2010/09/using-widgets-outside-of-the-cms-in-magento.html">Using Widgets Outside of the CMS in Magento</a></h1>
    
    
      <p class="meta">
        





  



<time datetime="2010-09-07T19:51:46-04:00" pubdate  data-updated="true" >Sep 7<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Magento ships with widget functionality that lets you build out data models and then reuse them on product and CMS pages. If you want to use these in a custom template however, you are out of luck. This can be done by extending the Widget Collection class.</p>

<p>Create the following directory structure: app/code/local/Mage/Widget/Model/Myswql4/Widget/Instance</p>

<p>Copy app/code/core/Mage/Widget/Model/Myswql4/Widget/Instance/Collection.php into your new directory</p>

<p>The Mage_Widget_Model_Mysql4_Widget_Instance_Collection comes with a store filter but thats about it. To be more usefull we are going to add a type filter, a title filter, and a sorter.</p>

<pre class="brush: php"> 
class Mage_Widget_Model_Mysql4_Widget_Instance_Collection extends Mage_Core_Model_Mysql4_Collection_Abstract
{
    /**
     * Constructor
     */
    protected function _construct()
    {
        parent::_construct();
        $this->_init('widget/widget_instance');
    }

    /**
     * Filter by store ids
     *
     * @param array|integer $storeIds
     * @param boolean $withDefaultStore if TRUE also filter by store id '0'
     * @return Mage_Widget_Model_Mysql4_Widget_Instance_Collection
     */
    public function addStoreFilter($storeIds = array(), $withDefaultStore = true)
    {
        if (!is_array($storeIds)) {
            $storeIds = array($storeIds);
        }
        if ($withDefaultStore &amp;&amp; !in_array(0, $storeIds)) {
            array_unshift($storeIds, 0);
        }
        $select = $this->getSelect();
        foreach ($storeIds as $storeId) {
            $select->orWhere('FIND_IN_SET(?, `store_ids`)', $storeId);
        }
        return $this;
    }

    public function addTypeFilter($type) {
        $this->getSelect()->where('type=?', $type);
        return $this;
    }

    public function addTitleFilter($type) {
        $this->getSelect()->where('title=?', $type);
        return $this;
    }

    public function addAttributeToSort($attribute, $dir='asc') {
        $this->getSelect()->order("{$attribute} {$dir}");
        return $this;
    }
}
</pre>


<p>Now we should be able to query any widgets from any template in our system:</p>

<pre class="brush: php">
< ?php 
$wids = Mage::getModel('widget/widget_instance')
    ->getCollection()
    ->addTypeFilter('masswidget/list')
    ->addAttributeToSort('title', 'asc')
    ->load();

foreach ($wids as $wid):
    $params = $wid->getWidgetParameters();
    echo $params['custom_param'];
    echo $wid->gettitle();
endforeach;
?>
</pre>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2010/09/the-primal-blueprint-30-day-challenge.html">The Primal Blueprint 30-Day Challenge</a></h1>
    
    
      <p class="meta">
        





  



<time datetime="2010-09-07T17:24:45-04:00" pubdate  data-updated="true" >Sep 7<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p style="text-align: center;"><img class="aligncenter" title="The Primal Blueprint 30-Day Challenge" src="http://i247.photobucket.com/albums/gg158/MDA2008/MDA2009/primal_30day_challenge-1.gif" alt="primal 30day challenge 1" width="320" height="240" /></p>


<p>If you want to lose weight, gain muscle, reduce stress, increase energy or just generally look and feel healthier youve come to the right place. Oh, and you can win lots of cool Primal gear, too (Over $10,000 in prizes!). Thats right, its the annual Primal Blueprint 30-Day Challenge!</p>

<p>Watch the following video and read <a href="http://www.marksdailyapple.com/the-primal-blueprint-30-day-challenge/" target="_blank">the article</a> for all the details.</p>

<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="350" height="221" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0"><param name="allowFullScreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="src" value="http://www.youtube.com/v/6bw3-MbMwYA?fs=1&amp;hl=en_US" /><param name="allowfullscreen" value="true" /><embed type="application/x-shockwave-flash" width="350" height="221" src="http://www.youtube.com/v/6bw3-MbMwYA?fs=1&amp;hl=en_US" allowscriptaccess="always" allowfullscreen="true"></embed></object>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2010/08/google-reader-adds-to-trends-view.html">Google Reader Adds to Trends View</a></h1>
    
    
      <p class="meta">
        





  



<time datetime="2010-08-31T13:22:38-04:00" pubdate  data-updated="true" >Aug 31<span>st</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Google Reader has added some more stats up at the top. Number of subscriptions, 30 days summary, when you started using Google reader, and total number of articles read</p>

<p>From your <strong>233 subscriptions</strong>, over the last 30 days <strong>you read 1,227 items</strong>, <strong>clicked 6 items</strong>, <strong>starred 0 items</strong>, <strong>shared 62 items</strong>, and <strong>emailed 28 items</strong>.</p>

<div id="trends-total-item-read-count">Since <strong>September 12, 2006</strong> you have read a total of <strong>72,380</strong> items.</div>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2010/08/how-fucd-is-your-database.html">How Fuc**d Is Your Database?</a></h1>
    
    
      <p class="meta">
        





  



<time datetime="2010-08-26T20:53:42-04:00" pubdate  data-updated="true" >Aug 26<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Are you using PostgreSQL, MySQL, MSSQL, Oracle, SQLite, MS Access, or NoSQL?</p>

<p><a href="http://howfuckedismydatabase.com/" target="_blank">http://howfuckedismydatabase.com/</a></p>

<!--d2cd7dcbd6c244258131566884bfe0ea-->

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2010/08/gmail-to-real-phone-calling.html">Gmail to Real Phone Calling</a></h1>
    
    
      <p class="meta">
        





  



<time datetime="2010-08-25T19:07:05-04:00" pubdate  data-updated="true" >Aug 25<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>We&#8217;re playing with this at the office, pretty slick. Seems like google just really wants to be skype though</p>

<p><img class="alignnone" title="http://3.bp.blogspot.com/_JE4qNpFW6Yk/THRyAaGzsCI/AAAAAAAAAsI/Kv0RN0TmcLU/s800/screenshot2.jpeg" src="http://3.bp.blogspot.com/_JE4qNpFW6Yk/THRyAaGzsCI/AAAAAAAAAsI/Kv0RN0TmcLU/s800/screenshot2.jpeg" alt="" width="521" height="286" /></p>

<p>&#8220;<a href="http://gmailblog.blogspot.com/2008/11/say-hello-to-gmail-voice-and-video-chat.html">Gmail voice and video chat</a> makes it easy to stay in touch with friends and family using your  computers microphone and speakers. But until now, this required both  people to be at their computers, signed into Gmail at the same time.  Given that most of us dont spend all day in front of our computers, we  thought, wouldnt it be nice if you could call people directly on their  phones?</p>

<p>Starting today, you can call any phone right from Gmail.&#8221;</p>

<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="560" height="340" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0"><param name="allowFullScreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="src" value="http://www.youtube.com/v/_-DzpAg0SdU?fs=1&amp;hl=en_US" /><param name="allowfullscreen" value="true" /><embed type="application/x-shockwave-flash" width="560" height="340" src="http://www.youtube.com/v/_-DzpAg0SdU?fs=1&amp;hl=en_US" allowscriptaccess="always" allowfullscreen="true"></embed></object>


<p>Full info can be found <a href="http://gmailblog.blogspot.com/2010/08/call-phones-from-gmail.html" target="_blank">here</a></p>
</div>
  
  


    </article>
  
  <nav class="pagination">
    <div>
      
        <a class="prev" href="/blog/page/9/">&larr; Older</a>
      
      <a href="/blog/archives">Blog Archives</a>
      
      <a class="next" href="/blog/page/7/">Newer &rarr;</a>
      
    </div>
  </nav>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2011/04/jira-tabs-open-all-those-jiras-at-once.html">Jira Tabs: Open all those Jira&#8217;s at once! </a>
      </li>
    
      <li class="post">
        <a href="/2011/04/google%25e2%2580%2599s-groupon-competitor-goes-live.html">Googles Groupon Competitor Goes Live</a>
      </li>
    
      <li class="post">
        <a href="/2011/04/skynet.html">Skynet Becomes Self Aware Tonight</a>
      </li>
    
      <li class="post">
        <a href="/2011/04/extending-a-magento-controller.html">Extending a Magento Controller</a>
      </li>
    
      <li class="post">
        <a href="/2011/04/moving-gmail-gadgets-to-the-right-side.html">Moving Gmail Gadgets to the Right Side</a>
      </li>
    
  </ul>
</section>




  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2011 - Tim Broder -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
    (function () {
      var disqus_shortname = 'broderboy';
      
        
        var disqus_script = 'count.js'
      

      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>







</body>
</html>
